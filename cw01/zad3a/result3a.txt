KOMENTARZ
Wyraznie widac roznice w czasie dzialania funkcji 'find' dla dynamicznej alokacji - dla tablicy statycznej jest rzad wielkosci krotsza.
Dla tworzenia tablicy roznica wynosi ok. 0.1s z korzyscia dla statycznej tablicy. Funkcje usuwajace i tworzace bloki rowniez dzialaja krocej
dla tablicy statycznej. Dla opcji shared i dynamic funkcje dzialaja nieznacznie szybciej.
# static ======================
gcc -Wall -c library.c -o library.o
ar rcs library.a library.o
gcc -Wall -o test main.c library.a
make tests
make[1]: Entering directory '/home/tomek/Downloads/zad1/cw03a'
./test 30000 100 dynamic
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30000 200 dynamic create replace 3 10 find 4
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.2800000000000000266453525910037569701671600341796875000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.7800000000000000266453525910037569701671600341796875000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to find closest ASCII-sum element
Found: tjigkcwwzpaxbpxdkoubpfwzxptmzeuunebbixxhmzfrocuctnfkubltreisicmzincrkzbzzispmlugcztycfttlblvfawpnahazkbatutfhmnlohjrmfmygavoateptnsvytvropxxdkiuuvmiabjidgxfaevvsmstiplxfiuiwfesasbcvkkzrketrcokridzypxe
delta_real:2.6400000000000001243449787580175325274467468261718750000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30000 200 dynamic create replace 3 10 replace_alt 5 10
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1900000000000000022204460492503130808472633361816406250000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.6700000000000000399680288865056354552507400512695312500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Blocks deleted
Blocks set
delta_real:0.3599999999999999866773237044981215149164199829101562500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 10 static
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 20 static create replace 3 10 find 4
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1300000000000000044408920985006261616945266723632812500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.2399999999999999911182158029987476766109466552734375000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to find closest ASCII-sum element
Found: tjigkcwwzpaxbpxdkoubpfwzxptmzeuunebbixxhmzfrocuctnfkubltreisicmzincrkzbzzispmlugcztycfttlblvfawpnahazkbatutfhmnlohjrmfmygavoateptnsvytvropxxdkiuuvmiabjidgxfaevvsmstiplxfiuiwfesasbcvkkzrketrcokridzypxeatoyyuransciepjvcoottfdjnhjmzitzbhacbrerkjcozljbcauvhzhygrkfzfhcmheralhkvlzwykxcntavuhtbyfizksbyzirz
delta_real:0.1400000000000000133226762955018784850835800170898437500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 20 static create replace 3 10 replace_alt 5 10
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1300000000000000044408920985006261616945266723632812500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.2300000000000000099920072216264088638126850128173828125000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Blocks deleted
Blocks set
delta_real:0.1300000000000000044408920985006261616945266723632812500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
make[1]: Leaving directory '/home/tomek/Downloads/zad1/cw03a'
# shared ======================
gcc -Wall -fPIC -c library.c -o library.o
gcc -Wall -fPIC -shared -o library.so library.o
gcc -Wall -Wl,-R . -o test main.c -L. library.so
make tests
make[1]: Entering directory '/home/tomek/Downloads/zad1/cw03a'
./test 30000 100 dynamic
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30000 200 dynamic create replace 3 10 find 4
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1600000000000000033306690738754696212708950042724609375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.3699999999999999955591079014993738383054733276367187500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to find closest ASCII-sum element
Found: tjigkcwwzpaxbpxdkoubpfwzxptmzeuunebbixxhmzfrocuctnfkubltreisicmzincrkzbzzispmlugcztycfttlblvfawpnahazkbatutfhmnlohjrmfmygavoateptnsvytvropxxdkiuuvmiabjidgxfaevvsmstiplxfiuiwfesasbcvkkzrketrcokridzypxe
delta_real:2.2700000000000000177635683940025046467781066894531250000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30000 200 dynamic create replace 3 10 replace_alt 5 10
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1600000000000000033306690738754696212708950042724609375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.3099999999999999977795539507496869191527366638183593750000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Blocks deleted
Blocks set
delta_real:0.3800000000000000044408920985006261616945266723632812500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 10 static
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 20 static create replace 3 10 find 4
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1499999999999999944488848768742172978818416595458984375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.2300000000000000099920072216264088638126850128173828125000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to find closest ASCII-sum element
Found: tjigkcwwzpaxbpxdkoubpfwzxptmzeuunebbixxhmzfrocuctnfkubltreisicmzincrkzbzzispmlugcztycfttlblvfawpnahazkbatutfhmnlohjrmfmygavoateptnsvytvropxxdkiuuvmiabjidgxfaevvsmstiplxfiuiwfesasbcvkkzrketrcokridzypxeatoyyuransciepjvcoottfdjnhjmzitzbhacbrerkjcozljbcauvhzhygrkfzfhcmheralhkvlzwykxcntavuhtbyfizksbyzirz
delta_real:0.1600000000000000033306690738754696212708950042724609375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 20 static create replace 3 10 replace_alt 5 10
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1400000000000000133226762955018784850835800170898437500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.2200000000000000011102230246251565404236316680908203125000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Blocks deleted
Blocks set
delta_real:0.1499999999999999944488848768742172978818416595458984375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
make[1]: Leaving directory '/home/tomek/Downloads/zad1/cw03a'
#dynamic ======================
gcc -Wall -fPIC -c library.c -o library.o
gcc -Wall -fPIC -shared -o library.so library.o
gcc -Wall -o test main_dynamic.c -ldl
make tests
make[1]: Entering directory '/home/tomek/Downloads/zad1/cw03a'
./test 30000 100 dynamic
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30000 200 dynamic create replace 3 10 find 4
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1600000000000000033306690738754696212708950042724609375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.3400000000000000244249065417534438893198966979980468750000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to find closest ASCII-sum element
Found: ltdgzvdfuxrwcciwsvrihjxgtjvhicuuxydzvgeodxnhzwfstycbhzjcigltjgpigthdznuelhnmftezrgcahnetuplfyboguyjvmebynokwjsxaazckmgdizroztfiodsmsypsmfdkoxhszgwjvfofegufbbnshiezivsvcxhruokvxhfumwatcwadyryfzcehzwfbt
delta_real:2.2700000000000000177635683940025046467781066894531250000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30000 200 dynamic create replace 3 10 replace_alt 5 10
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1700000000000000122124532708767219446599483489990234375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.3400000000000000244249065417534438893198966979980468750000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Blocks deleted
Blocks set
delta_real:0.3400000000000000244249065417534438893198966979980468750000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 10 static
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 20 static create replace 3 10 find 4
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1600000000000000033306690738754696212708950042724609375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.2500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to find closest ASCII-sum element
Found: wezooommwmplffwkgzmlxvfcczjmpzhldhbuypgucyhiddvmcjabefeigpvxockujlohcxdewlobrlpuvpvzybjetebhhmetatdesglpuaslohfjaclygvcbcelltpevkhacrlvknmwewdrwicuozxsdddoytutfdviugfhxsdbphsoswiiyhabmerkxmgdsbnoktwhmbiekdtczckzllbzpuloisuawjrgemntoyyzdrcdvmcjafkpbwhlrdmmnfvutknjilimemsccwlcewvfueskhgzxlwsggfpptbezn
delta_real:0.1600000000000000033306690738754696212708950042724609375000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
./test 30 20 static create replace 3 10 replace_alt 5 10
Parse begin
Block number parsed
Block size parsed
Allocation mode parsed
Parsing arguments
Attempting to create array
Array created
delta_real:0.1400000000000000133226762955018784850835800170898437500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Attempting to replace
Blocks deleted
Blocks set
delta_real:0.3699999999999999955591079014993738383054733276367187500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing arguments
Blocks deleted
Blocks set
delta_real:0.1199999999999999955591079014993738383054733276367187500000000000000000000000000000000000000000000000
delta_user:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
delta_system:0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Parsing finished
Attempting to free memory
Memory free
Exiting program
make[1]: Leaving directory '/home/tomek/Downloads/zad1/cw03a'
rm -f *~
rm -f *.o
rm -f *.a
rm -f *.so
